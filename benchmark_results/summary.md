# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤: 1000
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å: 10
- –î–∞—Ç–∞: Sat May 24 09:21:20 PM MSK 2025

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### 1. –°—Ç–∞—Ç–∏–∫–∞ —á–µ—Ä–µ–∑ nginx
Requests per second:    25906.74 [#/sec] (mean)
Time per request:       0.386 [ms] (mean)
Time per request:       0.039 [ms] (mean, across all concurrent requests)
Transfer rate:          7665.76 [Kbytes/sec] received

### 2. –°—Ç–∞—Ç–∏–∫–∞ —á–µ—Ä–µ–∑ gunicorn  
Requests per second:    2592.31 [#/sec] (mean)
Time per request:       3.858 [ms] (mean)
Time per request:       0.386 [ms] (mean, across all concurrent requests)
Transfer rate:          10080.63 [Kbytes/sec] received

### 3. –î–∏–Ω–∞–º–∏–∫–∞ —á–µ—Ä–µ–∑ gunicorn
Requests per second:    5571.09 [#/sec] (mean)
Time per request:       1.795 [ms] (mean)
Time per request:       0.179 [ms] (mean, across all concurrent requests)
Transfer rate:          18100.61 [Kbytes/sec] received

### 4. –î–∏–Ω–∞–º–∏–∫–∞ —á–µ—Ä–µ–∑ nginx->gunicorn
Requests per second:    5.30 [#/sec] (mean)
Time per request:       1887.716 [ms] (mean)
Time per request:       188.772 [ms] (mean, across all concurrent requests)
Transfer rate:          135.18 [Kbytes/sec] received

### 5. –î–∏–Ω–∞–º–∏–∫–∞ —á–µ—Ä–µ–∑ nginx->gunicorn (—Å –∫—ç—à–µ–º)
Requests per second:    5.09 [#/sec] (mean)
Time per request:       1965.293 [ms] (mean)
Time per request:       196.529 [ms] (mean, across all concurrent requests)
Transfer rate:          129.85 [Kbytes/sec] received

## –í—ã–≤–æ–¥—ã

### –ù–∞—Å–∫–æ–ª—å–∫–æ –±—ã—Å—Ç—Ä–µ–µ –æ—Ç–¥–∞–µ—Ç—Å—è —Å—Ç–∞—Ç–∏–∫–∞ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å WSGI?

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏–∫–∏ nginx vs –¥–∏–Ω–∞–º–∏–∫–∏ WSGI:**
- **–°—Ç–∞—Ç–∏–∫–∞ —á–µ—Ä–µ–∑ nginx**: 25,906 RPS (0.39 –º—Å)
- **–î–∏–Ω–∞–º–∏–∫–∞ —á–µ—Ä–µ–∑ gunicorn** (–ø—Ä–æ—Å—Ç–æ–µ WSGI): 5,571 RPS (1.8 –º—Å)
- **–ü—Ä–µ–≤–æ—Å—Ö–æ–¥—Å—Ç–≤–æ nginx –≤ 4.6 —Ä–∞–∑–∞** –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏–∫–∏ —á–µ—Ä–µ–∑ —Ä–∞–∑–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã:**
- **nginx**: 25,906 RPS
- **gunicorn**: 2,592 RPS  
- **nginx –±—ã—Å—Ç—Ä–µ–µ –≤ 10 —Ä–∞–∑** –¥–ª—è –æ—Ç–¥–∞—á–∏ —Å—Ç–∞—Ç–∏–∫–∏

### –í–æ —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —É—Å–∫–æ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç—É proxy_cache?

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã proxy_cache:**
- **–ë–µ–∑ –∫—ç—à–∞**: 5.30 RPS (1,888 –º—Å)
- **–° –∫—ç—à–µ–º**: 5.09 RPS (1,965 –º—Å)
- **–ö—ç—à –ù–ï —É—Å–∫–æ—Ä—è–µ—Ç** —Ä–∞–±–æ—Ç—É (–∑–∞–º–µ–¥–ª—è–µ—Ç –Ω–∞ 4%)

**–ü—Ä–∏—á–∏–Ω—ã –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫—ç—à–∞:**
1. Django –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç (CSRF —Ç–æ–∫–µ–Ω—ã, —Å–µ—Å—Å–∏–∏)
2. –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å —É–Ω–∏–∫–∞–ª–µ–Ω –∏–∑-–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
3. –í—Ä–µ–º—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (1 –º–∏–Ω—É—Ç–∞) —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–æ–µ
4. Overhead –æ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫—ç—à–∞ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –≤—ã–≥–æ–¥—É

## –ü–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑

### üöÄ –õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: nginx —Å—Ç–∞—Ç–∏–∫–∞
- **25,906 RPS** - nginx –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã
- –ü—Ä—è–º–∞—è –æ—Ç–¥–∞—á–∞ —Ñ–∞–π–ª–æ–≤ –±–µ–∑ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏

### üü° –°—Ä–µ–¥–Ω—è—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –ø—Ä–æ—Å—Ç–æ–µ WSGI
- **5,571 RPS** - –±—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞ –ø—Ä–æ—Å—Ç–æ–≥–æ Python –∫–æ–¥–∞
- –ù–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### üî¥ –ù–∏–∑–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: Django
- **5.30 RPS** - —Å–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ PostgreSQL
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –ë–î –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤–æ–ø—Ä–æ—Å–æ–≤
- ORM –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —à–∞–±–ª–æ–Ω–æ–≤ —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –¥–∞–Ω–Ω—ã—Ö

### üìä –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –¢–∏–ø –∑–∞–ø—Ä–æ—Å–∞ | RPS | –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ | –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å |
|-------------|-----|--------------|----------------------|
| Nginx —Å—Ç–∞—Ç–∏–∫–∞ | 25,906 | 0.39 –º—Å | 100% (–±–∞–∑–æ–≤–∞—è) |
| Gunicorn —Å—Ç–∞—Ç–∏–∫–∞ | 2,592 | 3.86 –º—Å | 10% |
| –ü—Ä–æ—Å—Ç–æ–µ WSGI | 5,571 | 1.8 –º—Å | 21.5% |
| Django –±–µ–∑ –∫—ç—à–∞ | 5.30 | 1,888 –º—Å | 0.02% |
| Django —Å –∫—ç—à–µ–º | 5.09 | 1,965 –º—Å | 0.02% |

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è production —Å—Ä–µ–¥—ã:
1. **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã** - –≤—Å–µ–≥–¥–∞ –æ—Ç–¥–∞–≤–∞—Ç—å —á–µ—Ä–µ–∑ nginx
2. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å nginx –∫–∞–∫ proxy –∫ gunicorn
3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø—Ä–∏–º–µ–Ω—è—Ç—å Redis/Memcached –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ë–î** - –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã
5. **Connection pooling** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∫ –ë–î

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç:
‚úÖ nginx –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ —Å—Ç–∞—Ç–∏–∫–æ–π  
‚úÖ gunicorn –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è WSGI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π  
‚úÖ proxy cache —Ç—Ä–µ–±—É–µ—Ç —Ç–æ–Ω–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞  
‚úÖ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏–ª—å–Ω–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

- `gunicorn.conf.py` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è gunicorn –¥–ª—è Django (2 –≤–æ—Ä–∫–µ—Ä–∞)
- `gunicorn_simple.conf.py` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è gunicorn –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ WSGI
- `askme_gusev.nginx.conf` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è nginx (49 —Å—Ç—Ä–æ–∫)
- `simple_wsgi.py` - –ø—Ä–æ—Å—Ç–æ–µ WSGI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- `start_servers.sh` - —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
- `benchmark.sh` - —Å–∫—Ä–∏–ø—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ 
